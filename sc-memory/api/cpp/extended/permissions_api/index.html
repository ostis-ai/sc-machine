
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../template_api/">
      
      
        <link rel="next" href="../agents/events/">
      
      
      <link rel="icon" href="../../../../../ostis-logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.19">
    
    
      
        <title>C++ User Permissions API - sc-machine</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../_assets/main.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#user-permissions-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="sc-machine" class="md-header__button md-logo" aria-label="sc-machine" data-md-component="logo">
      
  <img src="../../../../../ostis-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            sc-machine
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              C++ User Permissions API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ostis-ai/sc-machine" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../quick_start/" class="md-tabs__link">
        
  
  
    
  
  Quick Start

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../docker/" class="md-tabs__link">
        
  
  
    
  
  Docker

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/simple_guide_for_implementing_agent/" class="md-tabs__link">
          
  
  
  User Guides

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../core/api/" class="md-tabs__link">
          
  
  
  API

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../sc-tools/sc_builder/" class="md-tabs__link">
          
  
  
  Tools

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../build/quick_start/" class="md-tabs__link">
          
  
  
  Build Instructions

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../CONTRIBUTING/" class="md-tabs__link">
          
  
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/ostis-ai/sc-machine/blob/main/COPYING.MIT" class="md-tabs__link">
        
  
  
    
  
  License

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="sc-machine" class="md-nav__button md-logo" aria-label="sc-machine" data-md-component="logo">
      
  <img src="../../../../../ostis-logo.png" alt="logo">

    </a>
    sc-machine
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ostis-ai/sc-machine" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../quick_start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            User Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    C++ Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            C++ Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/simple_guide_for_implementing_agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Simple Guide for Implementing Agent
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sc-tools/migrate_to_new_agent_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrate to New Agent API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    C++ API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            C++ API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Core API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1_2" id="__nav_5_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    C++ Extended API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1_2">
            <span class="md-nav__icon md-icon"></span>
            C++ Extended API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../helper_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ System Identifier API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../template_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ ScTemplate API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    C++ User Permissions API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    C++ User Permissions API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#who-are-users-of-ostis-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Who are users of ostis-systems?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-are-users-managed" class="md-nav__link">
    <span class="md-ellipsis">
      How are users managed?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-does-the-sc-machine-identifies-users" class="md-nav__link">
    <span class="md-ellipsis">
      How does the sc-machine identifies users?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-does-the-sc-machine-authenticate-users" class="md-nav__link">
    <span class="md-ellipsis">
      How does the sc-machine authenticate users?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples-of-using-user-identification-and-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of using user identification and authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples of using user identification and authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-of-user-identification" class="md-nav__link">
    <span class="md-ellipsis">
      Example of user identification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-user-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Example of user authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-user-unauthentication" class="md-nav__link">
    <span class="md-ellipsis">
      Example of user unauthentication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-are-user-permissions-managed" class="md-nav__link">
    <span class="md-ellipsis">
      How are user permissions managed?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How are user permissions managed?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#action-classes-used-to-handle-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Action classes used to handle user permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#global-and-local-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Global and local user permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compatibility-of-global-and-local-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Compatibility of global and local user permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-of-using-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of using user permissions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples of using user permissions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-for-adding-updating-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Example for adding (updating) user permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-for-erasing-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Example for erasing user permissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frequently-asked-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Frequently Asked Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Frequently Asked Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-specify-role-for-users-in-knowledge-base-and-set-permissions-for-this-role" class="md-nav__link">
    <span class="md-ellipsis">
      How to specify role for users in knowledge base and set permissions for this role?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-specify-permissions-to-structures-that-are-not-described-in-knowledge-base-sources" class="md-nav__link">
    <span class="md-ellipsis">
      How to specify permissions to structures that are not described in knowledge base sources?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1_2_4" >
        
          
          <label class="md-nav__link" for="__nav_5_1_2_4" id="__nav_5_1_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    C++ Agents API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_1_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1_2_4">
            <span class="md-nav__icon md-icon"></span>
            C++ Agents API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Events API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/event_subscriptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Event Subscriptions API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/waiters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Waiters API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Agents API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/keynodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Keynodes API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Actions API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/agent_context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Agent Context API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/modules/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Modules API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Python API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Python API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/ostis-ai/py-sc-client" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Core API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/ostis-ai/py-sc-kpm" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Extended API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    TypeScript API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            TypeScript API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/ostis-ai/ts-sc-client" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TypeScript Core API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../scs/sc_element_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sc-element Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../scs/scs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SCs-code
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sc-tools/sc_builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Knowledge Base Builder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sc-tools/kb_repo_file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Knowledge Base Repo File
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../sc-tools/sc_machine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sc-machine Runner
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Build Instructions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Build Instructions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../build/quick_start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start for Developers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../build/build_system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../build/cmake_flags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CMake Flags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../build/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration File
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../dev/codestyle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Style Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../dev/devcontainer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dev Container
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/ostis-ai/sc-machine/blob/main/COPYING.MIT" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#who-are-users-of-ostis-systems" class="md-nav__link">
    <span class="md-ellipsis">
      Who are users of ostis-systems?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-are-users-managed" class="md-nav__link">
    <span class="md-ellipsis">
      How are users managed?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-does-the-sc-machine-identifies-users" class="md-nav__link">
    <span class="md-ellipsis">
      How does the sc-machine identifies users?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-does-the-sc-machine-authenticate-users" class="md-nav__link">
    <span class="md-ellipsis">
      How does the sc-machine authenticate users?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples-of-using-user-identification-and-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of using user identification and authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples of using user identification and authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-of-user-identification" class="md-nav__link">
    <span class="md-ellipsis">
      Example of user identification
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-user-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Example of user authentication
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-user-unauthentication" class="md-nav__link">
    <span class="md-ellipsis">
      Example of user unauthentication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-are-user-permissions-managed" class="md-nav__link">
    <span class="md-ellipsis">
      How are user permissions managed?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How are user permissions managed?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#action-classes-used-to-handle-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Action classes used to handle user permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#global-and-local-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Global and local user permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compatibility-of-global-and-local-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Compatibility of global and local user permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-of-using-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Examples of using user permissions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples of using user permissions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-for-adding-updating-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Example for adding (updating) user permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-for-erasing-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Example for erasing user permissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frequently-asked-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Frequently Asked Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Frequently Asked Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-specify-role-for-users-in-knowledge-base-and-set-permissions-for-this-role" class="md-nav__link">
    <span class="md-ellipsis">
      How to specify role for users in knowledge base and set permissions for this role?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-specify-permissions-to-structures-that-are-not-described-in-knowledge-base-sources" class="md-nav__link">
    <span class="md-ellipsis">
      How to specify permissions to structures that are not described in knowledge base sources?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/ostis-ai/sc-machine/edit/main/docs/sc-memory/api/cpp/extended/permissions_api.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="user-permissions-api"><strong>User permissions API</strong></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This documentation is correct for only versions of sc-machine that &gt;= 0.10.0.</p>
</div>
<hr />
<p>This API allows to handle users and their permissions in knowledge base.</p>
<h2 id="who-are-users-of-ostis-systems"><strong>Who are users of ostis-systems?</strong></h2>
<p>Users interact with ostis-systems. Users can be other systems, agents or people. All users of an ostis-system can perform actions on its knowledge base. There are six classes of user actions in knowledge base:</p>
<ul>
<li>action_read_from_sc_memory;</li>
<li>action_generate_in_sc_memory;</li>
<li>action_erase_from_sc_memory;</li>
<li>action_read_permissions_from_sc_memory;</li>
<li>action_generate_permissions_in_sc_memory;</li>
<li>action_erase_permissions_from_sc_memory.</li>
</ul>
<p>Before a user action is performed, it is checked whether the user has permissions to perform actions of the specified class.</p>
<p>By default, user permissions are not handled by sc-machine. This is configured via the sc-machine config (<code>&lt;config-name&gt;.ini</code>). To enable user permissions handling in the sc-machine, go to the group <code>[sc-memory]</code> and set <code>user_mode</code> as <code>true</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">[sc-memory]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="na">...</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="na">user_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">true</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="na">...</span>
</code></pre></div>
<h2 id="how-are-users-managed"><strong>How are users managed?</strong></h2>
<p>You can only work with sc-memory through methods provided in <code>ScMemoryContext</code> class. Each object of this class can be considered as an object that handles information about a user (including his permissions) when that user invokes methods through that object.</p>
<p>To work with sc-memory, you should create object of <code>ScMemoryContext</code> class or use existing one. If you create context via constructor, then this context will have guest user (user with <code>concept_guest_user</code> class). </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">ScMemoryContext</span><span class="w"> </span><span class="n">context</span><span class="p">;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">guestUserAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">GetUser</span><span class="p">();</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1">// This user should belongs `concept_guest_user` class.</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1">// After you can use `context` to generate, search or erase sc-elements </span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="c1">// in sc-memory.</span>
</code></pre></div>
<p>You can get user from object of context, if you need to handle this user.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">userAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">GetUser</span><span class="p">();</span>
</code></pre></div>
<p><code>concept_guest_user</code> class is default class for all users in sc-memory. By default, all guest users haven't permissions. You can specify permissions for their class. See documentation below to learn how to do it.</p>
<p>When some user initiates a sc-event, an object of <code>ScMemoryContext</code> with this user is created for the agent that reacted to this sc-event. After this agent uses this context to manipulate with sc-constructions within sc-memory. Each agent class has <code>m_context</code> field. You should use it to call methods in sc-memory.</p>
<h2 id="how-does-the-sc-machine-identifies-users"><strong>How does the sc-machine identifies users?</strong></h2>
<p>You can identify user. User identification refers to the process of identifying a user on ostis-system, i.e., that the specified guest user is some user that is on the knowledge base.</p>
<p>It is useful when your ostis-system implements functionality to work with guest users. The sc-machine provides users identification. You can identify some guest user as user that had been already registered in the system. Users identification allows you to implement your own agent to register/authorize users by password, token or something else.</p>
<p>To identify user in the sc-memory, you should create connection between guest user and identified user.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>..some_guest_user =&gt; nrel_identified_user: ..some_user;;
</code></pre></div>
<p>After that, all contexts that had specified guest user will have specified identified user. </p>
<p>To unidentify identified user, you can create reverse connection between specified guest user and specified identified user.</p>
<h2 id="how-does-the-sc-machine-authenticate-users"><strong>How does the sc-machine authenticate users?</strong></h2>
<p>Users can be known in advance and then guest users and their identification is unnecessary, but all users should be authenticated in sc-memory. User authentication involves the process of verifying the authenticity of identified user and storing information about that user in sc-memory.</p>
<p>To authenticate user in sc-memory, you should create connection between <code>concept_authentication_request_user</code> and user:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>concept_authentication_request_user -&gt; ..some_user;;
</code></pre></div>
<p>You should do it once, no more. After the sc-machine authenticates this user, it means that connection between <code>concept_authenticated_user</code> and user has been created and all contexts with this user have been authenticated.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>concept_authenticated_user ~&gt; ..some_user;;
</code></pre></div>
<p>If you remove this sc-arc between <code>concept_authenticated_user</code> and the user, then the user and all contexts with user will be also unauthenticated.</p>
<h2 id="examples-of-using-user-identification-and-authentication"><strong>Examples of using user identification and authentication</strong></h2>
<h3 id="example-of-user-identification"><strong>Example of user identification</strong></h3>
<p>You should identify guest user as user that should be authenticated. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// Create context with guest user.</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">ScMemoryContext</span><span class="w"> </span><span class="n">context</span><span class="p">;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1">// Get guest user from created context.</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">guestUserAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">GetUser</span><span class="p">();</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1">// Find a user, which should be identified. You can provide your own logic </span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1">// of user identification before.</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">userAddr1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">SearchElementBySystemIdentifier</span><span class="p">(</span><span class="s">&quot;user_1&quot;</span><span class="p">);</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="c1">// Before user identification, specify that user isn&#39;t identified. </span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="c1">// This way, you can subscribe to sc-event of erasing negative sc-arc, </span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="c1">// because when you identify user, all existing negative sc-arcs </span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="c1">// between `nrel_identified_user` and sc-arc between guest user and user </span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="c1">// to be identified are erased. This logic will help you to wait for user </span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="c1">// to be identified.</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">arcAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">  </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstCommonArc</span><span class="p">,</span><span class="w"> </span><span class="n">guestUserAddr</span><span class="p">,</span><span class="w"> </span><span class="n">userAddr1</span><span class="p">);</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">  </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="p">,</span><span class="w"> </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">nrel_identified_user</span><span class="p">,</span><span class="w"> </span><span class="n">arcAddr</span><span class="p">);</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="c1">// Create sc-event waiter to wait user to be identified.</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="c1">// You should subscribe to sc-event of erasing negative sc-arc incoming to</span>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="c1">// sc-arc between guest user and user to be identified.</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="k">auto</span><span class="w"> </span><span class="n">eventWaiter</span><span class="w"> </span>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">CreateConditionWaiter</span><span class="o">&lt;</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="w">    </span><span class="n">ScEventBeforeEraseIncomingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;&gt;</span><span class="p">(</span>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="w">  </span><span class="n">arcAddr</span><span class="p">,</span>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">]()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="w">    </span><span class="c1">// Identify guest user.</span>
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a><span class="w">    </span><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="w">      </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempPosArc</span><span class="p">,</span><span class="w"> </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">nrel_identified_user</span><span class="p">,</span><span class="w"> </span><span class="n">arcAddr</span><span class="p">);</span>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="w">    </span><span class="c1">// Only `ScMemory::ms_globalContext` can identify users.</span>
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="n">ScEventBeforeEraseIncomingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">bool</span>
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a><span class="w">    </span><span class="c1">// Check that sc-arc from `nrel_identified_user` is erased.</span>
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="n">GetArcSourceElement</span><span class="p">()</span><span class="w"> </span>
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a><span class="w">      </span><span class="o">==</span><span class="w"> </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">nrel_identified_user</span><span class="p">;</span>
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a><span class="w">  </span><span class="p">});</span>
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a><span class="c1">// After creation, call method `Wait` and specify time while you </span>
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a><span class="c1">// will wait sc-event for specified subscription sc-element.</span>
<a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a><span class="n">eventWaiter</span><span class="o">-&gt;</span><span class="n">Wait</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span><span class="w"> </span><span class="c1">// milliseconds</span>
<a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a><span class="c1">// By default, this wait time equals to 5000 milliseconds.</span>
<a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a><span class="c1">// You will wait until sc-event occurs or until specified time expires.</span>
</code></pre></div>
<p>After, you can authenticate identified user.</p>
<h3 id="example-of-user-authentication"><strong>Example of user authentication</strong></h3>
<p>To do this programly you can create waiter to wait sc-event of adding outgoing sc-arc from <code>concept_authenticated_user</code> and request user to be authenticated, i.e. create sc-arc between <code>concept_authentication_request_user</code> and user. After waiting this sc-event, your user will be authenticated.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p">...</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c1">// Find a user, which you want to authenticate.</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">userAddr1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">SearchElementBySystemIdentifier</span><span class="p">(</span><span class="s">&quot;user_1&quot;</span><span class="p">);</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="c1">// Before user authentication, specify that user isn&#39;t authenticated. </span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="c1">// This way, you can subscribe to sc-event of erasing negative sc-arc, </span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1">// because when you authenticate user, all existing negative sc-arcs </span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="c1">// between `concept_authenticated_user` and user are erased. This logic will </span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c1">// help you to wait for user to be authenticated.</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">  </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">  </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">concept_authenticated_user</span><span class="p">,</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">  </span><span class="n">userAddr1</span><span class="p">);</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="c1">// Create sc-event waiter to wait user to be authenticated.</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="c1">// You should subscribe to sc-event of erasing negative sc-arc incoming to</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="c1">// user.</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="k">auto</span><span class="w"> </span><span class="n">eventWaiter</span><span class="w"> </span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">CreateConditionWaiter</span><span class="o">&lt;</span>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">    </span><span class="n">ScEventBeforeEraseIncomingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;&gt;</span><span class="p">(</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="w">  </span><span class="n">userAddr1</span><span class="p">,</span>
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">]()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="w">    </span><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">      </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstPermPosArc</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">      </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">concept_authentication_request_user</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="w">      </span><span class="n">userAddr1</span><span class="p">);</span>
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="w">    </span><span class="c1">// Only `ScMemory::ms_globalContext` can authenticate users.</span>
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="n">ScEventBeforeEraseIncomingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">bool</span>
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="w">    </span><span class="c1">// Check that sc-arc from `concept_authenticated_user` is erased.</span>
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="n">GetArcSourceElement</span><span class="p">()</span><span class="w"> </span>
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a><span class="w">      </span><span class="o">==</span><span class="w"> </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">concept_authenticated_user</span><span class="p">;</span>
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="w">  </span><span class="p">});</span>
<a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a>
<a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="c1">// After creation, call method `Wait` and specify time while you </span>
<a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a><span class="c1">// will wait sc-event for specified subscription sc-element.</span>
<a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="n">eventWaiter</span><span class="o">-&gt;</span><span class="n">Wait</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span><span class="w"> </span><span class="c1">// milliseconds</span>
<a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a><span class="c1">// By default, this wait time equals to 5000 milliseconds.</span>
<a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="c1">// You will wait until sc-event occurs or until specified time expires.</span>
</code></pre></div>
<p>Yes, this way of waiting for user authentication is complicated, but it ensures that the NOT factors in the user information are accounted for. In the future, transaction mechanisms will be implemented in the sc-machine to simplify its API.</p>
<h3 id="example-of-user-unauthentication"><strong>Example of user unauthentication</strong></h3>
<p>To unauthenticate user, you must erase sc-arc between <code>concept_authenticated_user</code> and user.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="p">...</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c1">// Find a user, which you want to unauthenticate.</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">userAddr1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">SearchElementBySystemIdentifier</span><span class="p">(</span><span class="s">&quot;user_1&quot;</span><span class="p">);</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="c1">// Create sc-event waiter to wait user to be unauthenticated.</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="c1">// You should subscribe to sc-event of adding negative sc-arc incoming to</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="c1">// user, because it will be added when you erase sc-arcs between </span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="c1">// `concept_authenticated_user` and user.</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="k">auto</span><span class="w"> </span><span class="n">eventWaiter</span><span class="w"> </span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">CreateConditionWaiter</span><span class="o">&lt;</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">    </span><span class="n">ScEventAfterGenerateIncomingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;&gt;</span><span class="p">(</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">  </span><span class="n">userAddr1</span><span class="p">,</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">]()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="w">    </span><span class="c1">// Find and erase connection between `concept_authenticated_user`</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">    </span><span class="c1">// and user.</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">    </span><span class="n">ScIterator3Ptr</span><span class="w"> </span><span class="n">it3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">Iterator3</span><span class="p">(</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="w">      </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">concept_authenticated_user</span><span class="p">,</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w">      </span><span class="n">ScType</span><span class="o">::</span><span class="n">EdgeAccessConstPosTemp</span><span class="p">,</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w">      </span><span class="n">userAddr1</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">it3</span><span class="o">-&gt;</span><span class="n">Next</span><span class="p">())</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="w">      </span><span class="n">ScMemory</span><span class="o">::</span><span class="n">ms_globalContext</span><span class="o">-&gt;</span><span class="n">EraseElement</span><span class="p">(</span><span class="n">it3</span><span class="o">-&gt;</span><span class="n">Get</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="w">    </span><span class="c1">// Only `ScMemory::ms_globalContext` can unauthenticate users.</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="n">ScEventAfterGenerateIncomingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">bool</span>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="w">    </span><span class="c1">// Check that sc-arc from `concept_authenticated_user` is added.</span>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="n">GetArcSourceElement</span><span class="p">()</span><span class="w"> </span>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="w">      </span><span class="o">==</span><span class="w"> </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">concept_authenticated_user</span><span class="p">;</span>
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="w">  </span><span class="p">});</span>
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a>
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="c1">// After creation, call method `Wait` and specify time while you </span>
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="c1">// will wait sc-event for specified subscription sc-element.</span>
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a><span class="n">eventWaiter</span><span class="o">-&gt;</span><span class="n">Wait</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span><span class="w"> </span><span class="c1">// milliseconds</span>
</code></pre></div>
<p>You can use these examples to identify guest users.</p>
<h2 id="how-are-user-permissions-managed"><strong>How are user permissions managed?</strong></h2>
<h3 id="action-classes-used-to-handle-user-permissions"><strong>Action classes used to handle user permissions</strong></h3>
<p>In order for a user to successfully execute a method from <code>ScMemoryContext</code>, it is necessary that the knowledge base for that user specifies that it can perform the class of actions that corresponds to that method.</p>
<p>Description of action classes that users of ostis-system can perform in its knowledge base is represented below:</p>
<table>
  <thead>
    <tr>
      <th>Action class</th>
      <th>System identifier of action class sc-node</th>
      <th>Abbreviation</th>
      <th>Logic if user has permissions to execute actions of the specified class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>reading from sc-memory action</td>
      <td><code>action_read_from_sc_memory</code></td>
      <td>R</td>
      <td>The user can execute all methods that read sc-constructions from knowledge base.</td>
    </tr>
    <tr>
      <td>generating in sc-memory action</td>
      <td><code>action_generate_in_sc_memory</code></td>
      <td>G</td>
      <td>The user can execute all methods that generate sc-constructions in knowledge base.</td>
    </tr>
    <tr>
      <td>erasing from sc-memory action</td>
      <td><code>action_erase_from_sc_memory</code></td>
      <td>E</td>
      <td>The user can execute all methods that erase sc-constructions from knowledge base.</td>
    </tr>
    <tr>
      <td>reading permissions from sc-memory action</td>
      <td><code>action_read_permissions_from_sc_memory</code></td>
      <td>RP</td>
      <td>The user can read permissions of other users from knowledge base.</td>
    </tr>
    <tr>
      <td>generating permissions in sc-memory action</td>
      <td><code>action_generate_permissions_in_sc_memory</code></td>
      <td>GP</td>
      <td>The user can generate permissions for other users in knowledge base.</td>
    </tr>
    <tr>
      <td>erasing permissions from sc-memory action</td>
      <td><code>action_erase_permissions_from_sc_memory</code></td>
      <td>EP</td>
      <td>The user can erase permissions of other users from knowledge base.</td>
    </tr>
  </tbody>
</table>

<p>Each core method of <a href="../../core/api/"><strong>C++ Core API</strong></a> checks user permissions. All methods of <em>C++ Extended API</em> use methods of <em>C++ Core API</em>. Description of ScMemoryContext API methods and user permissions required to execute these methods is represented below:</p>
<table>
  <thead>
    <tr>
      <th>ScMemoryContext API method</th>
      <th>R</th>
      <th>G</th>
      <th>E</th>
      <th>Logic if user hasn't required permissions to perform method</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GenerateNode, GenerateLink</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>These methods don't require any permissions for users.</td>
    </tr>
    <tr>
      <td>GenerateConnector</td>
      <td>-</td>
      <td>+</td>
      <td>-</td>
      <td>If user hasn't permissions to add sc-connector from specified source sc-element or to specified target sc-element, then method will throw <code>utils::ExceptionInvalidState</code>.</td>
    </tr>
    <tr>
      <td>IsElement</td>
      <td>+</td>
      <td>-</td>
      <td>-</td>
      <td>If user hasn't permissions to read specified sc-element, then method will throw <code>utils::ExceptionInvalidState</code>.</td>
    </tr>
    <tr>
      <td>GetElementType</td>
      <td>+</td>
      <td>-</td>
      <td>-</td>
      <td>If user hasn't permissions to read specified sc-element, then method will throw <code>utils::ExceptionInvalidState</code>.</td>
    </tr>
    <tr>
      <td>SetElementSubtype</td>
      <td>-</td>
      <td>+</td>
      <td>-</td>
      <td>If user hasn't permissions to update specified sc-element sc-type, then method will throw <code>utils::ExceptionInvalidState</code>.</td>
    </tr>
    <tr>
      <td>GetConnectorIncidentElements, GetArcSourceElement, GetArcTargetElement</td>
      <td>+</td>
      <td>-</td>
      <td>-</td>
      <td>If user hasn't permissions to read specified sc-connector or its incident sc-elements, then method will throw <code>utils::ExceptionInvalidState</code>.</td>
    </tr>
    <tr>
      <td>CreateIterator3, CreateIterator5, ForEach, ForEach</td>
      <td>+</td>
      <td>-</td>
      <td>-</td>
      <td>If user hasn't permissions to read some sc-connectors from or to specified sc-element, then method won't return these sc-connectors to user: method <code>ScIterator::Next</code> will skip these sc-connectors. If user has permissions to read sc-connector from or to specified sc-element, but he hasn't permissions to read other incident sc-elements, then method <code>ScIterator::Get</code> will throw <code>utils::ExceptionInvalidState</code> if user tries to get such permitted sc-element by index in found sc-construction. Methods <code>ForEach</code> will return empty sc-address in such case.</td>
    </tr>
    <tr>
      <td>EraseElement</td>
      <td>-</td>
      <td>-</td>
      <td>+</td>
      <td>If user hasn't permissions to erase specified sc-element, then method will return <code>false</code>.</td>
    </tr>
    <tr>
      <td>SetLinkContent</td>
      <td>-</td>
      <td>+</td>
      <td>+</td>
      <td>If user hasn't permissions to change (erase and write) content for specified sc-link, then method will throw <code>utils::ExceptionInvalidState</code>.</td>
    </tr>
    <tr>
      <td>GetLinkContent</td>
      <td>+</td>
      <td>-</td>
      <td>-</td>
      <td>If user hasn't permissions to read specified sc-link by specified content, then method will throw <code>utils::ExceptionInvalidState</code>.</td>
    </tr>
    <tr>
      <td>SearchLinksByContent, SearchLinksByContentSubstring</td>
      <td>+</td>
      <td>-</td>
      <td>-</td>
      <td>If user hasn't permissions to read some sc-links that have specified content, then method won't return these sc-links.</td>
    </tr>
  </tbody>
</table>

<h3 id="global-and-local-user-permissions"><strong>Global and local user permissions</strong></h3>
<p>Depending on where the user can perform actions in the knowledge base, their permissions are divided into global and local permissions:</p>
<ul>
<li>global permissions is permissions over entire knowledge base;</li>
<li>local permissions is permissions in some part (sc-structure) of knowledge base.</li>
</ul>
<p>Permissions can be set on a specific user or group (set or class) of users.</p>
<p>All permissions can be represented as connections between users, action classes and sc-structures:</p>
<table>
  <thead>
    <tr>
      <th>Permissions class</th>
      <th>System identifier of relation sc-node for concrete user</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Global permissions</td>
      <td><code>nrel_user_action_class</code></td>
      <td>Binary relation between concrete user and action class</td>
    </tr>
    <tr>
      <td>Local permissions</td>
      <td><code>nrel_user_action_class_within_sc_structure</code></td>
      <td>Ternary relation between concrete user and action class with sc-structure where actions of specified class can be performed by this user</td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th>Permissions class</th>
      <th>System identifier of relation sc-node for users set</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Global permissions</td>
      <td><code>nrel_users_set_action_class</code></td>
      <td>Binary relation between users set and action class</td>
    </tr>
    <tr>
      <td>Local permissions</td>
      <td><code>nrel_users_set_action_class_within_sc_structure</code></td>
      <td>Ternary relation between users set and action class with sc-structure where actions of specified class can be performed by this one of users</td>
    </tr>
  </tbody>
</table>

<p>Examples of global and local read permissions for user and users set:</p>
<table>
  <tr>
    <th>Permissions</th>
    <th>SCg-code example</th>
    <th>SCs-code example</th>
  </tr>

  <tr>
    <td>User has global read permissions</td>
    <td><scg src="../images/permissions/global_read_permissions_for_user.gwf"></scg></td>
    <td>
      <pre>
        <code class="js hljs javascript">
..user <~ concept_user;;

nrel_user_action_class
~> (..user => action_read_from_sc_memory);; 
        </code>
      </pre>
    </td>
  </tr>
  <tr>
    <td>User has local read permissions</td>
    <td><scg src="../images/permissions/local_read_permissions_for_user.gwf"></scg></td>
    <td>
      <pre>
        <code class="js hljs javascript">
..user <~ concept_user;;

..structure = [*
    concept_set ~> ..set;;
*];;

nrel_user_action_class_within_sc_structure
~> (..user => (action_read_from_sc_memory => ..structure));;
        </code>
      </pre>
    </td>
  </tr>
  <tr>
    <td>Each user in users set has global read permissions</td>
    <td><scg src="../images/permissions/global_read_permissions_for_users_set.gwf"></scg></td>
    <td>
      <pre>
        <code class="js hljs javascript">
nrel_users_set_action_class
~> (concept_user => action_read_from_sc_memory);;
        </code>
      </pre>
    </td>
  </tr>

  <tr>
    <td>Each user in users set has local read permissions</td>
    <td><scg src="../images/permissions/local_read_permissions_for_users_set.gwf"></scg></td>
    <td>
      <pre>
        <code class="js hljs javascript">
..structure = [*
    concept_set ~> ..set;;
*];;

nrel_users_set_action_class_within_sc_structure
~> (..user => (action_read_from_sc_memory => ..structure));;
        </code>
      </pre>
    </td>
  </tr>

  <tr>
    <td>User hasn't global read permissions</td>
    <td><scg src="../images/permissions/no_global_read_permissions_for_user.gwf"></scg></td>
    <td>
      <pre>
        <code class="js hljs javascript">
..user <~ concept_user;;

nrel_user_action_class
~|> (..user => action_read_from_sc_memory);;
        </code>
      </pre>
    </td>
  </tr>
  <tr>
    <td>User hasn't local read permissions</td>
    <td><scg src="../images/permissions/no_local_read_permissions_for_user.gwf"></scg></td>
    <td>
      <pre>
        <code class="js hljs javascript">
..user <~ concept_user;;

..structure = [*
concept_set ~> ..set;;
*];;

nrel_user_action_class_within_sc_structure
~|> (..user => (action_read_from_sc_memory => ..structure));;
        </code>
      </pre>
    </td>
  </tr>
  <tr>
    <td>Each user in users set hasn't global read permissions</td>
    <td><scg src="../images/permissions/no_global_read_permissions_for_users_set.gwf"></scg></td>
    <td>
      <pre>
        <code class="js hljs javascript">
nrel_users_set_action_class
~|> (concept_user => action_read_from_sc_memory);;
        </code>
      </pre>
    </td>
  </tr>

  <tr>
    <td>Each user in users set hasn't local read permissions</td>
    <td><scg src="../images/permissions/no_local_read_permissions_for_users_set.gwf"></scg></td>
    <td>
      <pre>
        <code class="js hljs javascript">
..structure = [*
    concept_set ~> ..set;;
*];;

nrel_users_set_action_class_within_sc_structure
~|> (..user => (action_read_from_sc_memory => ..structure));;
        </code>
      </pre>
    </td>
  </tr>
</table>

<p>In these examples, you can use any other action class (<code>action_generate_in_sc_memory</code>, <code>action_erase_from_sc_memory</code>, <code>action_read_permissions_from_sc_memory</code>, <code>action_generate_permissions_in_sc_memory</code> or <code>action_erase_permissions_from_sc_memory</code>) instead of <code>action_read_from_sc_memory</code>.</p>
<p>All sc-arcs from permissions classes (relations) must be permanent or temporary. All sc-arcs from user groups (classes or sets) must be permanent or temporary.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the knowledge base does not explicitly specify permissions for a user, it is equivalent to saying that this user does not have them.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to erase permissions for a user it is enough to erase an membership sc-arc from the relation that indicated permissions.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the sc-machine there is a global system context -- <code>ScMemory::ms_globalContext</code>, that has all permissions. You can use it to update permissions that can be used to read, update or erase permissions for other users.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Erasing a positive membership sc-arc between relation and sc-arc between the user and an action class, that the user can perform (pair with sc-structure and action class), automatically creates a negative membership sc-arc between the given relation and the sc-arc between the user and the action class (the pair with sc-structure and action class).</p>
</div>
<p><scg src="../images/permissions/erase_local_read_permissions_for_user.gwf"></scg></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Creating a positive membership sc-arc between relation and sc-arc between the user and an action class, that the user can perform (pair with sc-structure and action class), automatically erases all negative membership sc-arcs between the given relation and the sc-arc between the user and the action class (the pair with sc-structure and action class).</p>
</div>
<p><scg src="../images/permissions/generate_local_read_permissions_for_user.gwf"></scg></p>
<hr />
<h3 id="compatibility-of-global-and-local-user-permissions"><strong>Compatibility of global and local user permissions</strong></h3>
<p>Both global and local permissions can be described for the same user. It is important to know the logic of how they work together. For example, concrete user wants to handle some sc-construction. There may be several cases:</p>
<table>
  <thead>
    <tr>
      <th>Case</th>
      <th>Criterion 1. Does specified sc-construction belong to any permitted sc-structure?</th>
      <th>Criterion 2. Does user have global permissions?</th>
      <th>Criterion 3. Does user have local permissions?</th>
      <th>Result. Can user handle the specified sc-construction?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>No, it doesn't.</td>
      <td>No, he doesn't.</td>
      <td>No, he doesn't.</td>
      <td>No, he doesn't.</td>
    </tr>
    <tr>
      <td>2</td>
      <td>No, it doesn't.</td>
      <td>Yes. He has global write permissions.</td>
      <td>No, he doesn't.</td>
      <td>Yes. He can only add sc-elements into the specified sc-construction, because he has global write permissions.</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Yes. The sc-construction is in a sc-structure that indicates that certain permissions are required. Some users have permissions to this sc-structure.</td>
      <td>No, he doesn't.</td>
      <td>No, he doesn't.</td>
      <td>No, he doesn't.</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Yes. The sc-construction is in a sc-structure that indicates that certain permissions are required. Some users have permissions to this sc-structure.</td>
      <td>Yes. He has global read permissions.</td>
      <td>No, he doesn't.</td>
      <td>No, he doesn't. The user hasn't local permissions for the specified sc-structure. But he can read any sc-constructions in knowledge base, which doesn't have permitted sc-structures.</td>
    </tr>
    <tr>
      <td>5</td>
      <td>Yes. The sc-construction is in a sc-structure that indicates that certain permissions are required. Some users have permissions to this sc-structure.</td>
      <td>No, he doesn't.</td>
      <td>Yes. He has local write permissions for the specified sc-structure.</td>
      <td>Yes. The user can only add sc-elements into the specified sc-structure. But he can't handle any sc-constructions in knowledge base other than the given one.</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Yes. The sc-construction is in a sc-structure that indicates that certain permissions are required. Some users have permissions to this sc-structure.</td>
      <td>Yes. He has global write permissions.</td>
      <td>Yes. He has local write permissions for the specified sc-structure.</td>
      <td>Yes. The user can add sc-elements into the specified sc-structure. And he can add sc-element into any sc-constructions in knowledge base other than the given one.</td>
    </tr>
  </tbody>
</table>

<hr />
<h3 id="examples-of-using-user-permissions"><strong>Examples of using user permissions</strong></h3>
<p>If you want to update permissions for a user, then you can describe them in the knowledge base in any format convenient for you (SCs-code or SCg-code) or do it programly.</p>
<h4 id="example-for-adding-updating-user-permissions"><strong>Example for adding (updating) user permissions</strong></h4>
<p>If you want to add permissions for user constantly, specify permissions for this user in the knowledge base. See examples of local and global user permissions above.</p>
<p>To do this programly you can create waiter to wait sc-event of adding outgoing sc-arc from permissions class and add permissions for this user. After waiting this sc-event, your user will have new user permissions.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">...</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="c1">// Find a user, for whom you need to add new permissions.</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">userAddr1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">SearchElementBySystemIdentifier</span><span class="p">(</span><span class="s">&quot;user_1&quot;</span><span class="p">);</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="c1">// Find a structure, within which the user should have permissions.</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">structureAddr</span><span class="w"> </span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">SearchElementBySystemIdentifier</span><span class="p">(</span><span class="s">&quot;my_structure&quot;</span><span class="p">);</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="c1">// Before adding new user permissions, specify that user doesn&#39;t have these</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c1">// permissions. This way, you can subscribe to sc-event of erasing negative </span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="c1">// sc-arc, because when you add new permissions for user, all existing </span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="c1">// negative sc-arcs to permissions are erased. This logic will help you to </span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="c1">// wait for user&#39;s permissions to be changed.</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">_actionClassArcAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">  </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstCommonArc</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">  </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">action_generate_in_sc_memory</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">  </span><span class="n">structureAddr</span><span class="p">);</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">_userArcAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">  </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstCommonArc</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">  </span><span class="n">userAddr1</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">  </span><span class="n">_actionClassArcAddr</span><span class="p">);</span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="n">context</span><span class="p">.</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">  </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="w">  </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">nrel_user_action_class_within_sc_structure</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="w">  </span><span class="n">_userArcAddr</span><span class="p">);</span>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="c1">// Create sc-event waiter to wait adding new permissions for specified user.</span>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="c1">// You should subscribe to sc-event of erasing negative sc-arc. </span>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="c1">// Negative sc-arc is erased when you added new permissions for user. </span>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="k">auto</span><span class="w"> </span><span class="n">eventWaiter</span><span class="w"> </span>
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">CreateConditionWaiter</span><span class="o">&lt;</span>
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="w">    </span><span class="n">ScEventEraseOutgoingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;&gt;</span><span class="p">(</span>
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a><span class="w">  </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">nrel_user_action_class_within_sc_structure</span><span class="p">,</span>
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">]()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a><span class="w">    </span><span class="c1">// Update user permissions here.</span>
<a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="w">    </span><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">actionClassArcAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a><span class="w">      </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstCommonArc</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a><span class="w">      </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">action_generate_in_sc_memory</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a><span class="w">      </span><span class="n">structureAddr</span><span class="p">);</span>
<a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a><span class="w">    </span><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">userArcAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a><span class="w">      </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstCommonArc</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a><span class="w">      </span><span class="n">userAddr1</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a><span class="w">      </span><span class="n">actionClassArcAddr</span><span class="p">);</span>
<a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a><span class="w">    </span><span class="n">context</span><span class="p">.</span><span class="n">GenerateConnector</span><span class="p">(</span>
<a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="w">      </span><span class="n">ScType</span><span class="o">::</span><span class="n">EdgeAccessConstPosTemp</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="w">      </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">nrel_user_action_class_within_sc_structure</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a><span class="w">      </span><span class="n">userArcAddr</span><span class="p">);</span>
<a id="__codelineno-9-48" name="__codelineno-9-48" href="#__codelineno-9-48"></a><span class="w">    </span><span class="c1">// You should create sc-arc from permissions class at </span>
<a id="__codelineno-9-49" name="__codelineno-9-49" href="#__codelineno-9-49"></a><span class="w">    </span><span class="c1">// the end of this callback.</span>
<a id="__codelineno-9-50" name="__codelineno-9-50" href="#__codelineno-9-50"></a>
<a id="__codelineno-9-51" name="__codelineno-9-51" href="#__codelineno-9-51"></a><span class="w">    </span><span class="c1">// And note, that if `context` user doesn&#39;t have permissions to create</span>
<a id="__codelineno-9-52" name="__codelineno-9-52" href="#__codelineno-9-52"></a><span class="w">    </span><span class="c1">// permissions in sc-memory for other users, you should to update </span>
<a id="__codelineno-9-53" name="__codelineno-9-53" href="#__codelineno-9-53"></a><span class="w">    </span><span class="c1">// permissions for user of `context` or use `ScMemory::ms_globalContext` </span>
<a id="__codelineno-9-54" name="__codelineno-9-54" href="#__codelineno-9-54"></a><span class="w">    </span><span class="c1">// that has all permissions, by default.</span>
<a id="__codelineno-9-55" name="__codelineno-9-55" href="#__codelineno-9-55"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-9-56" name="__codelineno-9-56" href="#__codelineno-9-56"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="n">ScEventEraseOutgoingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">event</span><span class="p">)</span>
<a id="__codelineno-9-57" name="__codelineno-9-57" href="#__codelineno-9-57"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">bool</span>
<a id="__codelineno-9-58" name="__codelineno-9-58" href="#__codelineno-9-58"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-9-59" name="__codelineno-9-59" href="#__codelineno-9-59"></a><span class="w">    </span><span class="c1">// Check that permissions for specified are updated.</span>
<a id="__codelineno-9-60" name="__codelineno-9-60" href="#__codelineno-9-60"></a><span class="w">    </span><span class="n">ScAddr</span><span class="w"> </span><span class="n">targetElementAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="n">GetArcTargetElement</span><span class="p">();</span>
<a id="__codelineno-9-61" name="__codelineno-9-61" href="#__codelineno-9-61"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="n">GetElementType</span><span class="p">(</span><span class="n">targetElementAddr</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-9-62" name="__codelineno-9-62" href="#__codelineno-9-62"></a><span class="w">        </span><span class="o">!=</span><span class="w"> </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstCommonArc</span><span class="p">)</span>
<a id="__codelineno-9-63" name="__codelineno-9-63" href="#__codelineno-9-63"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-9-64" name="__codelineno-9-64" href="#__codelineno-9-64"></a>
<a id="__codelineno-9-65" name="__codelineno-9-65" href="#__codelineno-9-65"></a><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">userAddr</span><span class="p">,</span><span class="w"> </span><span class="n">permissionsAddr</span><span class="p">]</span>
<a id="__codelineno-9-66" name="__codelineno-9-66" href="#__codelineno-9-66"></a><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">GetConnectorIncidentElements</span><span class="p">(</span><span class="n">targetElementAddr</span><span class="p">);</span>
<a id="__codelineno-9-67" name="__codelineno-9-67" href="#__codelineno-9-67"></a>
<a id="__codelineno-9-68" name="__codelineno-9-68" href="#__codelineno-9-68"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">userAddr</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">userAddr1</span><span class="p">;</span>
<a id="__codelineno-9-69" name="__codelineno-9-69" href="#__codelineno-9-69"></a><span class="w">  </span><span class="p">});</span>
<a id="__codelineno-9-70" name="__codelineno-9-70" href="#__codelineno-9-70"></a>
<a id="__codelineno-9-71" name="__codelineno-9-71" href="#__codelineno-9-71"></a><span class="c1">// After creation, call method `Wait` and specify time while you </span>
<a id="__codelineno-9-72" name="__codelineno-9-72" href="#__codelineno-9-72"></a><span class="c1">// will wait sc-event for specified subscription sc-element.</span>
<a id="__codelineno-9-73" name="__codelineno-9-73" href="#__codelineno-9-73"></a><span class="n">eventWaiter</span><span class="o">-&gt;</span><span class="n">Wait</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span><span class="w"> </span><span class="c1">// milliseconds</span>
<a id="__codelineno-9-74" name="__codelineno-9-74" href="#__codelineno-9-74"></a><span class="c1">// By default, this wait time equals to 5000 milliseconds.</span>
<a id="__codelineno-9-75" name="__codelineno-9-75" href="#__codelineno-9-75"></a><span class="c1">// You will wait until sc-event occurs or until specified time expires.</span>
</code></pre></div>
<p>Yes, this way of waiting for permissions to change is complicated, but it ensures that the NOT factors in the user information are accounted for. In the future, transaction mechanisms will be implemented in the sc-machine to simplify its API.</p>
<h4 id="example-for-erasing-user-permissions"><strong>Example for erasing user permissions</strong></h4>
<p>To erase permissions for a user, you must erase sc-arc from permissions class.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">...</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="c1">// Find a user, for whom you need to erase permissions.</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">userAddr1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">SearchElementBySystemIdentifier</span><span class="p">(</span><span class="s">&quot;user_1&quot;</span><span class="p">);</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="c1">// Find a structure, within which the user should no longer have rights</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="n">ScAddr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">structureAddr</span><span class="w"> </span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">SearchElementBySystemIdentifier</span><span class="p">(</span><span class="s">&quot;my_structure&quot;</span><span class="p">);</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="c1">// Create sc-event waiter to wait erasing permissions for specified user. </span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="c1">// You should subscribe to sc-event of adding negative sc-arc. </span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="c1">// Negative sc-arc is added when you erases user permissions. </span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="k">auto</span><span class="w"> </span><span class="n">eventWaiter</span><span class="w"> </span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">CreateConditionWaiter</span><span class="o">&lt;</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">    </span><span class="n">ScEventAfterGenerateOutgoingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;&gt;</span><span class="p">(</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">  </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">nrel_user_action_class_within_sc_structure</span><span class="p">,</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">]()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">    </span><span class="c1">// Update user permissions here.</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">    </span><span class="n">ScTemplate</span><span class="w"> </span><span class="n">permissionsTemplate</span><span class="p">;</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">    </span><span class="n">permissionsTemplate</span><span class="p">.</span><span class="n">Triple</span><span class="p">(</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">      </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">action_generate_in_sc_memory</span><span class="p">,</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">      </span><span class="n">ScType</span><span class="o">::</span><span class="n">VarCommonArc</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;_action_class_arc&quot;</span><span class="p">,</span><span class="w">  </span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">      </span><span class="n">structureAddr</span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">    </span><span class="n">permissionsTemplate</span><span class="p">.</span><span class="n">Quintuple</span><span class="p">(</span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="w">      </span><span class="n">userAddr1</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">      </span><span class="n">ScType</span><span class="o">::</span><span class="n">VarCommonArc</span><span class="p">,</span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">      </span><span class="s">&quot;_action_class_arc&quot;</span><span class="p">,</span>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="w">      </span><span class="n">ScType</span><span class="o">::</span><span class="n">VarTempPosArc</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;_permissions_arc&quot;</span><span class="p">,</span>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="w">      </span><span class="n">ScKeynodes</span><span class="o">::</span><span class="n">nrel_user_action_class_within_sc_structure</span><span class="w"> </span>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="w">    </span><span class="n">ScTemplateSearchResult</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="n">SearchByTemplate</span><span class="p">(</span><span class="n">permissionsTemplate</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">))</span>
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="w">      </span><span class="n">context</span><span class="p">.</span><span class="n">EraseElement</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&quot;_permissions_arc&quot;</span><span class="p">]);</span>
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="w">      </span><span class="c1">// You should erase sc-arc from permissions class at </span>
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="w">      </span><span class="c1">// the end of this callback.</span>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="w">    </span><span class="c1">// And note, that if `context` user doesn&#39;t have permissions to read</span>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="w">    </span><span class="c1">// permissions in sc-memory for other users, you should to update </span>
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="w">    </span><span class="c1">// permissions for user of `context` or use `ScMemory::ms_globalContext` </span>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="w">    </span><span class="c1">// that has all permissions, by default.</span>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="w">  </span><span class="p">[</span><span class="o">&amp;</span><span class="p">](</span><span class="n">ScEventAfterGenerateOutgoingArc</span><span class="o">&lt;</span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstTempNegArc</span><span class="o">&gt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">event</span><span class="p">)</span>
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a><span class="w">    </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">bool</span>
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a><span class="w">    </span><span class="c1">// Check that permissions for specified are erased.</span>
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a><span class="w">    </span><span class="n">ScAddr</span><span class="w"> </span><span class="n">targetElementAddr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="n">GetArcTargetElement</span><span class="p">();</span>
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="n">GetElementType</span><span class="p">(</span><span class="n">targetElementAddr</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a><span class="w">        </span><span class="o">!=</span><span class="w"> </span><span class="n">ScType</span><span class="o">::</span><span class="n">ConstCommonArc</span><span class="p">)</span>
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a>
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">userAddr</span><span class="p">,</span><span class="w"> </span><span class="n">permissionsAddr</span><span class="p">]</span>
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">GetConnectorIncidentElements</span><span class="p">(</span><span class="n">targetElementAddr</span><span class="p">);</span>
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a>
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">userAddr</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">userAddr1</span><span class="p">;</span>
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a><span class="w">  </span><span class="p">});</span>
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a>
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a><span class="c1">// After creation, call method `Wait` and specify time while you </span>
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a><span class="c1">// will wait sc-event for specified subscription sc-element.</span>
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a><span class="n">eventWaiter</span><span class="o">-&gt;</span><span class="n">Wait</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span><span class="w"> </span><span class="c1">// milliseconds</span>
</code></pre></div>
<p>These examples can be reused for any of permissions classes described above.</p>
<hr />
<h2 id="frequently-asked-questions"><strong>Frequently Asked Questions</strong></h2>
<ul>
<li><a href="#how-to-specify-role-for-users-in-knowledge-base-and-set-permissions-for-this-role">How to specify role for users in knowledge base and set permissions for this role?</a></li>
<li><a href="#how-to-specify-permissions-to-structures-that-are-not-described-in-knowledge-base-sources">How to specify permissions to structures that are not described in knowledge base sources?</a></li>
</ul>
<h3 id="how-to-specify-role-for-users-in-knowledge-base-and-set-permissions-for-this-role"><strong>How to specify role for users in knowledge base and set permissions for this role?</strong></h3>
<p>A role for users should be understood as a class of users. You can specify permission for user classes.</p>
<p>The following example shows how global and local permissions are specified for a class of users:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>concept_users_class_1
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>~&gt; ..user_1;;
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>nrel_users_set_action_class
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>~&gt; (concept_users_class_1 =&gt; action_read_from_sc_memory);;
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>nrel_users_set_action_class_within_sc_structure
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>~&gt; (concept_users_class_1 =&gt; (action_read_from_sc_memory =&gt; ..structure));;
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>..structure = [*
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>    concept_users_class_2 ~&gt; ..user_2;;
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>    ..user_2 -&gt; rrel_password: [password];;
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>*];;
</code></pre></div>
<p>This example shows that all users from <code>concept_users_class_1</code> can view the entire knowledge base besides the structure describing users from <code>concept_users_class_2</code>.</p>
<h3 id="how-to-specify-permissions-to-structures-that-are-not-described-in-knowledge-base-sources"><strong>How to specify permissions to structures that are not described in knowledge base sources?</strong></h3>
<p>You can generate and update structures in knowledge base while system is running. You can also generate and modify permissions to structures in knowledge base while system is running. To do this, you should use all available API methods.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.action.edit", "content.tabs.link", "content.code.copy"], "search": "../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../../../../_assets/scg.min.js"></script>
      
        <script src="../../../../../_assets/main.js"></script>
      
    
  </body>
</html>